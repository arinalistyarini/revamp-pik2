!function(n){function t(t){for(var r,c,i=t[0],u=t[1],s=t[2],f=0,l=[];f<i.length;f++)c=i[f],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&l.push(a[c][0]),a[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(n[r]=u[r]);for(p&&p(t);l.length;)l.shift()();return o.push.apply(o,s||[]),e()}function e(){for(var n,t=0;t<o.length;t++){for(var e=o[t],r=!0,i=1;i<e.length;i++){var u=e[i];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),n=c(c.s=e[0]))}return n}var r={},a={2:0},o=[];function c(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.m=n,c.c=r,c.d=function(n,t,e){c.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},c.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},c.t=function(n,t){if(1&t&&(n=c(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)c.d(e,r,function(t){return n[t]}.bind(null,r));return e},c.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return c.d(t,"a",t),t},c.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var p=u;o.push([31,0]),e()}({3:function(n,t,e){"use strict";(function(n){e.d(t,"c",(function(){return m})),e.d(t,"b",(function(){return b})),e.d(t,"g",(function(){return y})),e.d(t,"d",(function(){return P})),e.d(t,"a",(function(){return M})),e.d(t,"f",(function(){return C})),e.d(t,"e",(function(){return T})),e.d(t,"i",(function(){return _})),e.d(t,"h",(function(){return S}));var r=e(4),a=e.n(r),o=e(0),c=e.n(o),i=e(1),u=e.n(i);e(12);function s(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function p(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?s(Object(e),!0).forEach((function(t){a()(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var f=[],l=".interactive-map",d=".interactive-map-notes",h=".interactive-map-search",g=".interactive-map-loader",v=991;function w(n){return n._container.id}function m(n){return f.find((function(t){return n===w(t)}))}function b(n){f.length&&m(n).eachLayer((function(n){n._popup&&n.remove()}))}function y(t,e,r){if(f.length){var a=m(t),o=n("#".concat(t)),c=o.find(g),i=(o.find("".concat(h)).length?o.find("".concat(h)):o.prev(h)).find("input");c.length&&(e?(c.addClass("shown"),a._handlers.forEach((function(n){n.disable()})),i.attr("disabled",!0)):(c.removeClass("shown"),a._handlers.forEach((function(n){n.enable()})),i.removeAttr("disabled"))),r?c.addClass("solid"):c.removeClass("solid")}}function x(n){var t;return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Image).src=n,e.next=4,c.a.awrap(t.decode());case 4:return e.abrupt("return",{width:t.width,height:t.height});case 5:case"end":return e.stop()}}))}function O(t){var e,r,a;return c.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=w(t),r=n("#".concat(e)).attr("img-src"),o.next=4,c.a.awrap(x(r));case 4:return a=o.sent,o.abrupt("return",a);case 6:case"end":return o.stop()}}))}function j(t){var e=w(t);return n("#".concat(e))}function P(n){var t,e,r,a,o,i;return c.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,c.a.awrap(O(n));case 2:if(t=u.sent,e=j(n),r=t.width/t.height,a=e.innerWidth()/e.innerHeight(),o=e.innerWidth()/t.width,i=e.innerHeight()/t.height,!(r>a)){u.next=10;break}return u.abrupt("return",i);case 10:return u.abrupt("return",o);case 11:case"end":return u.stop()}}))}function k(n){var t,e,r;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(P(n));case 2:return t=a.sent,a.next=5,c.a.awrap(O(n));case 5:return e=a.sent,r=[[0,0],[e.height*t,e.width*t]],a.abrupt("return",r);case 8:case"end":return a.stop()}}))}function M(n){var t,e,r,a,o,i,u;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,c.a.awrap(k(n));case 2:if(s.t0=s.sent,s.t0){s.next=5;break}s.t0=[[],[]];case 5:return t=s.t0,e=t[1][0]/2,r=t[1][1]/2,s.next=10,c.a.awrap(P(n));case 10:return a=s.sent,n.options.minZoom=a,o=j(n),s.next=15,c.a.awrap(O(n));case 15:i=s.sent,u=Math.ceil(Math.log(o.innerWidth()/i.width>o.innerHeight()/i.height?i.width/o.innerWidth():i.height/o.innerHeight())/Math.log(2)),n.options.maxZoom=u,n.setView([e,r],a);case 19:case"end":return s.stop()}}))}function C(t){var e=t?n("#".concat(t)).find(d):n(d);e&&e.each((function(){var t=n(this),r=t.parents(l).length?t.parents(l):e.prev(l);n(window).width()<=v?t.length&&r&&r.after(t):t.length&&r&&t.appendTo(r)}));var r=t?n("#".concat(t)).find(h):n(h);r&&r.each((function(){var e=n(this),r=e.parents(l).length?e.parents(l):e.next(l);n(window).width()<=v?e.length&&r&&r.before(e):e.length&&r&&e.prependTo(r);var a=e.find("input"),o=e.find(".map-clear-search");a.length&&a.on("input",(function(){this.value?o.addClass("shown"):o.removeClass("shown")})),o.on("click",(function(){a.val()&&(a.val(""),o.removeClass("shown"),b(t),M(m(t)))}))}))}function T(t){C(t);var e=n(t?"#".concat(t).concat(l):l);e&&e.each((function(){var e,r,a,o,i,s;return c.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return e=n(this).attr("id"),r=n(this).attr("img-src"),(a=n(this).attr("background-color"))&&n(this).css("background-color",a),u.a.DomUtil.get(r)&&u.a.DomUtil.get(r).remove(),1,4,1,o=u.a.map(e,{minZoom:1,maxZoom:4,zoom:1,center:[0,0],crs:u.a.CRS.Simple,zoomControl:!1}),f.push(o),y(t,!0,!0),u.a.control.zoom({position:"topright"}).addTo(o),p.next=14,c.a.awrap(k(o));case 14:return i=p.sent,u.a.imageOverlay(r,i).addTo(o),o.setMaxBounds(i),s=function(n){return new Promise((function(t){return setTimeout((function(){M(o),t()}),n)}))},p.next=20,c.a.awrap(s(800));case 20:y(t,!1);case 21:case"end":return p.stop()}}),null,this)}))}function _(n){var t;return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(P(n));case 2:t=e.sent,n.on("click",(function(n){console.log({original:p({},n.latlng,{factor:t}),recomputed:{lat:n.latlng.lat/t,lng:n.latlng.lng/t}})}));case 4:case"end":return e.stop()}}))}function S(t){var e=t.id,r=t.title,a=t.position,o=t.content,c=t.icon,i=t.color;if(f.length){var s=m(e),l={icon:u.a.divIcon({className:"icon-marker ".concat(i),html:"<i class='icon-pik ".concat(c,"'><i>")})},d="<div class='popup-title'>".concat(r,"</div>"),h=o?"<div class='popup-content-detail'>".concat(o,"</div>"):"",g=u.a.responsivePopup(p({hasTip:!1,autoPan:!0,className:"marker-popup ".concat(i),minWidth:160},n(window).width()<=v&&{maxWidth:280},{closeButton:!1})).setContent("".concat(d).concat(h));u.a.marker(a,c?l:null).addTo(s).bindPopup(g)}}}).call(this,e(2))},31:function(n,t,e){n.exports=e(32)},32:function(n,t,e){(function(t){n.exports=t.global=e(33)}).call(this,e(11))},33:function(n,t,e){"use strict";e.r(t);var r=e(3);e.d(t,"markMap",(function(){return r.h})),e.d(t,"initInteractiveMap",(function(){return r.e})),e.d(t,"clearMapMarkers",(function(){return r.b})),e.d(t,"mapToggleLoader",(function(){return r.g})),e.d(t,"getExistingMap",(function(){return r.c})),e.d(t,"centeringMap",(function(){return r.a})),e.d(t,"toggleCoordinateLog",(function(){return r.i})),e.d(t,"getFactor",(function(){return r.d}))}});