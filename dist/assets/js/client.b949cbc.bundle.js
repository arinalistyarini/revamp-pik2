!function(t){function n(n){for(var r,o,c=n[0],u=n[1],s=n[2],f=0,p=[];f<c.length;f++)o=c[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(d&&d(n);p.length;)p.shift()();return i.push.apply(i,s||[]),e()}function e(){for(var t,n=0;n<i.length;n++){for(var e=i[n],r=!0,c=1;c<e.length;c++){var u=e[c];0!==a[u]&&(r=!1)}r&&(i.splice(n--,1),t=o(o.s=e[0]))}return t}var r={},a={2:0},i=[];function o(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=r,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)o.d(e,r,function(n){return t[n]}.bind(null,r));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=n,c=c.slice();for(var s=0;s<c.length;s++)n(c[s]);var d=u;i.push([31,0]),e()}({3:function(t,n,e){"use strict";(function(t){e.d(n,"d",(function(){return m})),e.d(n,"b",(function(){return b})),e.d(n,"h",(function(){return x})),e.d(n,"i",(function(){return O})),e.d(n,"e",(function(){return k})),e.d(n,"a",(function(){return _})),e.d(n,"g",(function(){return T})),e.d(n,"f",(function(){return S})),e.d(n,"k",(function(){return E})),e.d(n,"j",(function(){return D})),e.d(n,"c",(function(){return W}));var r=e(4),a=e.n(r),i=e(0),o=e.n(i),c=e(1),u=e.n(c);e(12);function s(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?s(Object(e),!0).forEach((function(n){a()(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}window.interactiveMap={initiated:[]};var f=".interactive-map",p=".interactive-map-notes",l=".interactive-map-search",h=".interactive-map-loader",v=".interactive-map-request",w=991;function g(n){return t(n._container).attr("id")&&t(n._container).attr("id"),n._container.id}function m(t){return window.interactiveMap.initiated.find((function(n){return t===g(n)}))}function b(t){if(window.interactiveMap.initiated.length){var n=m(t);n&&n.eachLayer((function(t){t._popup&&t.remove()}))}}function y(n,e){var r=t("#".concat(g(n))),a=(r.find("".concat(l)).length?r.find("".concat(l)):r.prev(l)).find("input");e?(n._handlers.forEach((function(t){t.enable()})),a.removeAttr("disabled")):(n._handlers.forEach((function(t){t.disable()})),a.attr("disabled",!0))}function x(n){t(f)&&t(f).each((function(){var e=t(this).attr("id"),r=window.global.getExistingMap(e),a=t(this).find(v);a.length&&(a.addClass("shown"),y(r,!1),a.find(".text-request").text(n))}))}function O(n,e,r){if(window.interactiveMap.initiated.length){var a=t("#".concat(n)).find(h),i=m(n);a.length&&(e?(a.addClass("shown"),y(i,!1)):(a.removeClass("shown"),y(i,!0))),r?a.addClass("solid"):a.removeClass("solid")}}function M(t){var n;return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Image).src=t,e.next=4,o.a.awrap(n.decode());case 4:return e.abrupt("return",{width:n.width,height:n.height});case 5:case"end":return e.stop()}}))}function j(n){var e,r,a;return o.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=g(n),r=t("#".concat(e)).attr("img-src"),i.next=4,o.a.awrap(M(r));case 4:return a=i.sent,i.abrupt("return",a);case 6:case"end":return i.stop()}}))}function P(n){var e=g(n);return t("#".concat(e))}function k(t){var n,e,r,a,i,c;return o.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,o.a.awrap(j(t));case 2:if(n=u.sent,e=P(t),r=n.width/n.height,a=e.innerWidth()/e.innerHeight(),i=e.innerWidth()/n.width,c=e.innerHeight()/n.height,!(r>a)){u.next=10;break}return u.abrupt("return",c);case 10:return u.abrupt("return",i);case 11:case"end":return u.stop()}}))}function C(t){var n,e,r;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(k(t));case 2:return n=a.sent,a.next=5,o.a.awrap(j(t));case 5:return e=a.sent,r=[[0,0],[e.height*n,e.width*n]],a.abrupt("return",r);case 8:case"end":return a.stop()}}))}function _(t){var n,e,r,a,i,c,u;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,o.a.awrap(C(t));case 2:if(s.t0=s.sent,s.t0){s.next=5;break}s.t0=[[],[]];case 5:return n=s.t0,e=n[1][0]/2,r=n[1][1]/2,s.next=10,o.a.awrap(k(t));case 10:return a=s.sent,t.options.minZoom=a,i=P(t),s.next=15,o.a.awrap(j(t));case 15:c=s.sent,u=Math.ceil(Math.log(i.innerWidth()/c.width>i.innerHeight()/c.height?c.width/i.innerWidth():c.height/i.innerHeight())/Math.log(2)),t.options.maxZoom=u,t.setView([e,r],a);case 19:case"end":return s.stop()}}))}function T(n){var e=n?t("#".concat(n)).find(p):t(p);e&&e.each((function(){var n=t(this),r=n.parents(f).length?n.parents(f):e.prev(f);t(window).width()<=w?n.length&&r&&r.after(n):n.length&&r&&n.appendTo(r)}));var r=n?t("#".concat(n)).find(l):t(l);r&&r.each((function(){var e=t(this),r=e.parents(f).length?e.parents(f):e.next(f);t(window).width()<=w?e.length&&r&&r.before(e):e.length&&r&&e.prependTo(r);var a=e.find("input"),i=e.find(".map-clear-search");a.length&&a.on("input",(function(){this.value?i.addClass("shown"):i.removeClass("shown")})),i.on("click",(function(){a.val()&&(a.val(""),i.removeClass("shown"),b(n),_(m(n)))}))}))}function S(n){var e=t(n?"#".concat(n).concat(f):f);e&&e.each((function(){var e,r,a,i,c,s;return o.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return e=t(this).attr("id"),T(n||e),r=t(this).attr("img-src"),(a=t(this).attr("background-color"))&&t(this).css("background-color",a),u.a.DomUtil.get(r)&&u.a.DomUtil.get(r).remove(),1,4,1,i=u.a.map(e,{minZoom:1,maxZoom:4,zoom:1,center:[0,0],crs:u.a.CRS.Simple,zoomControl:!1}),window.interactiveMap.initiated.push(i),O(n||g(i),!0,!0),u.a.control.zoom({position:"topright"}).addTo(i),d.next=15,o.a.awrap(C(i));case 15:return c=d.sent,u.a.imageOverlay(r,c).addTo(i),i.setMaxBounds(c),s=function(t){return new Promise((function(n){return setTimeout((function(){_(i),n()}),t)}))},d.next=21,o.a.awrap(s(800));case 21:setTimeout((function(){O(n||g(i),!1)}),400);case 22:case"end":return d.stop()}}),null,this)}))}function E(t){var n;return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.awrap(k(t));case 2:n=e.sent,t.on("click",(function(t){console.log({original:d({},t.latlng,{factor:n}),recomputed:{lat:t.latlng.lat/n,lng:t.latlng.lng/n}})}));case 4:case"end":return e.stop()}}))}function D(n){var e=n.id,r=n.title,a=n.position,i=n.content,o=n.icon,c=n.color;if(window.interactiveMap.initiated.length){var s=m(e),f={icon:u.a.divIcon({className:"icon-marker ".concat(c),html:"<i class='icon-pik ".concat(o,"'><i>")})},p="<div class='popup-title'>".concat(r,"</div>"),l=i?"<div class='popup-content-detail'>".concat(i,"</div>"):"",h=u.a.responsivePopup(d({hasTip:!1,autoPan:!0,className:"marker-popup ".concat(c),minWidth:160},t(window).width()<=w&&{maxWidth:280},{closeButton:!1})).setContent("".concat(p).concat(l));u.a.marker(a,o?f:null).addTo(s).bindPopup(h)}}function W(){window.global.initInteractiveMap(),window.interactiveMap.initiated.forEach((function(t){window.global.getFactor(t).then((function(t){window.interactiveMap.factor=t}))}))}}).call(this,e(2))},31:function(t,n,e){t.exports=e(32)},32:function(t,n,e){(function(n){t.exports=n.global=e(33)}).call(this,e(11))},33:function(t,n,e){"use strict";e.r(n);var r=e(3);e.d(n,"markMap",(function(){return r.j})),e.d(n,"initInteractiveMap",(function(){return r.f})),e.d(n,"clearMapMarkers",(function(){return r.b})),e.d(n,"mapToggleLoader",(function(){return r.i})),e.d(n,"getExistingMap",(function(){return r.d})),e.d(n,"centeringMap",(function(){return r.a})),e.d(n,"toggleCoordinateLog",(function(){return r.k})),e.d(n,"getFactor",(function(){return r.e}))}});